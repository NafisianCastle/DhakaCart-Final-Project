# Helm values for AWS Load Balancer Controller
# Install with: helm install aws-load-balancer-controller eks/aws-load-balancer-controller -n kube-system -f alb-controller-values.yaml

clusterName: dhakacart-dev

serviceAccount:
  create: false
  name: aws-load-balancer-controller

replicaCount: 2

image:
  repository: 602401143452.dkr.ecr.us-west-2.amazonaws.com/amazon/aws-load-balancer-controller
  tag: v2.7.2
  pullPolicy: IfNotPresent

resources:
  limits:
    cpu: 200m
    memory: 500Mi
  requests:
    cpu: 100m
    memory: 200Mi

nodeSelector: {}

tolerations: []

affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
    - weight: 100
      podAffinityTerm:
        labelSelector:
          matchExpressions:
          - key: app.kubernetes.io/name
            operator: In
            values:
            - aws-load-balancer-controller
        topologyKey: kubernetes.io/hostname

podDisruptionBudget:
  maxUnavailable: 1

securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: true
  runAsNonRoot: true

podSecurityContext:
  fsGroup: 65534

# Enable webhook
enableCertManager: false
enableShield: false
enableWaf: true
enableWafv2: true

# Logging configuration
logLevel: info

# Metrics configuration
metrics:
  bindAddr: 8080

# Webhook configuration
webhookBindPort: 9443

# Feature gates
featureGates: {}

# Additional environment variables
env:
  AWS_DEFAULT_REGION: us-west-2
  AWS_REGION: us-west-2

# Pod labels
podLabels:
  app: aws-load-balancer-controller
  component: ingress-controller

# Service monitor for Prometheus
serviceMonitor:
  enabled: true
  namespace: kube-system
  interval: 30s
  labels:
    app: aws-load-balancer-controller